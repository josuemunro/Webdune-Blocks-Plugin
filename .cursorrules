# Webdune Blocks Plugin - Cursor Rules

## Project Context
Custom Gutenberg blocks plugin for SellMyCell to replace WP Bakery page builder.

## Source of Truth
- HTML/CSS: `sellmycell.webflow/` folder (Webflow export)
- Use exact HTML structure and CSS from export
- Mobile styles are already in the export - use them

## Documentation Priority
1. START_HERE.md - Always start here for project overview
2. PROJECT_STATUS.md - Current state and progress
3. NEXT_STEPS.md - What to build next
4. AI_AGENT_HANDOFF.md - Handoff guide for new agents
5. BLOCK_INVENTORY.md - All blocks specifications

## Development Rules

### Do's
- Use exact HTML/CSS from Webflow export
- Follow existing block patterns in src/blocks/
- Import shared styles: `@import '../../shared/colors.scss'`
- Test all 4 breakpoints (desktop, tablet, mobile-landscape, mobile-portrait)
- Run `npm run build` after changes
- Check browser console for errors

### Don'ts
- Don't make up CSS - use Webflow export
- Don't skip mobile styles
- Don't use inline styles
- Don't modify block registration array in webdune-blocks.php (auto-registers)

## Block Structure
Every block follows this pattern:
```
src/blocks/[name]/
├── block.json
├── index.js       # MUST import ./style.scss and ./editor.scss
├── edit.js
├── save.js
├── style.scss     # Frontend + Editor styles
├── editor.scss    # Editor-only styles (optional)
└── view.js        # Frontend JS (optional)
```

### Critical: SCSS Imports & File Paths

**In index.js, you MUST import SCSS:**
```javascript
import './style.scss';      // Required
import './editor.scss';     // Required if editor.scss exists
```

**Webpack CSS Naming (DO NOT GET THIS WRONG!):**
- `style.scss` → builds to `style-index.css`
- `editor.scss` → builds to `index.css`

**In block.json, use these EXACT paths:**
```json
{
  "editorScript": "file:./index.js",
  "editorStyle": "file:./index.css",        ← NOT editor.css!
  "style": "file:./style-index.css",        ← NOT style.css!
  "viewScript": "file:./view.js"
}
```

**❌ WRONG (CSS won't load):**
```json
"style": "file:./style.css"
"editorStyle": "file:./editor.css"
```

**✅ CORRECT:**
```json
"style": "file:./style-index.css"
"editorStyle": "file:./index.css"
```

## Design System
- Colors: Use variables from `src/shared/colors.scss`
- Typography: Helvetica World (already loaded)
- Containers: .container-small / .container-medium / .container-large
- Section wrapper: `<section> > .padding-global > .container-*`

## GSAP/Animations
- Already loaded globally via src/shared/animations.js
- Parallax auto-works on [data-speed] elements
- Nav behaviors auto-apply to .navbar14_component

## Common Commands
```bash
npm start          # Development (auto-rebuild)
npm run build      # Production build
wp cache flush     # Clear WordPress cache
wp block list      # List registered blocks
```

## Next Priority
Footer block (see NEXT_STEPS.md for detailed guide)

