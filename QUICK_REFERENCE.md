# Quick Reference - Webdune Blocks

## 🚀 Next Steps (In Order)

### 1. Complete Local by Flywheel Setup
- [ ] Download & install Local (link opened in browser)
- [ ] Create new site: `sellmycell-local`
- [ ] Import existing site data (if available) OR start fresh
- [ ] Verify site loads at `http://sellmycell.local`

### 2. Install Plugin
```bash
# Navigate to plugins directory in Local site
cd [Local Sites]/sellmycell-local/app/public/wp-content/plugins

# If not already there, copy the webdune-blocks folder
# OR navigate to the webdune-blocks folder

# Install dependencies
npm install

# Start development
npm start
```

### 3. Activate Plugin
- Go to `http://sellmycell.local/wp-admin`
- Navigate to **Plugins**
- Find **"Webdune Blocks"**
- Click **Activate**

### 4. Test Setup
- Go to **Pages → Add New**
- Click **"+"** to add block
- Look for **"Webdune Blocks"** category
- Category should appear (no blocks yet, that's normal!)

---

## 📁 Project Structure

```
webdune-blocks/
├── 📄 webdune-blocks.php          # Main plugin file
├── 📄 package.json                # Dependencies
├── 📄 README.md                   # Full documentation
├── 📄 SETUP_GUIDE.md             # Detailed setup
├── 📄 BLOCK_INVENTORY.md         # Block specifications
├── 📄 QUICK_REFERENCE.md         # This file
│
├── 📁 src/                        # SOURCE FILES (edit these)
│   ├── 📁 blocks/                # Individual blocks
│   │   └── (empty - we'll build these)
│   ├── 📁 shared/
│   │   ├── layout.scss           # Global layout utilities
│   │   └── colors.scss           # Color variables
│   └── 📁 assets/                # Images, icons
│
├── 📁 build/                      # COMPILED FILES (auto-generated)
│   └── (generated by npm start)
│
└── 📁 includes/                   # PHP helpers
    ├── phone-queries.php         # Phone data functions
    └── block-helpers.php         # General utilities
```

---

## 🎨 Figma → Code Workflow

### 1. Export Assets from Figma
**For each block you're building:**

1. Select the layer in Figma
2. Right panel → Export
3. Settings:
   - Format: PNG (for photos) or SVG (for icons/logos)
   - Scale: 2x for retina displays
4. Export to `src/assets/images/`

**Asset naming convention:**
- `hero-bg.png` (descriptive, lowercase, hyphens)
- `logo-white.svg`
- `phone-iphone-16.png`

### 2. Get Design Specs
Use Figma's inspect panel (right sidebar) for:
- Colors (hex codes)
- Font sizes
- Spacing (padding, margins)
- Border radius
- Shadows

### 3. Build the Block
```bash
# Create new block scaffold
npx @wordpress/create-block [block-name] --namespace webdune --no-plugin

# Move to src/blocks/
mv [block-name] src/blocks/

# Register in webdune-blocks.php
# (Add block name to $blocks array)
```

---

## 🎯 Phase 1 Priority Blocks (Build First)

| # | Block | Figma Node | Complexity | Priority |
|---|-------|------------|------------|----------|
| 1 | Navigation | 52:2217 | Medium | HIGH |
| 2 | Footer | 52:2135 | Medium | HIGH |
| 3 | Hero | 170:924 | Medium | HIGH |
| 4 | Process Section | 22:9 | Easy | HIGH |
| 5 | FAQ + FAQ Item | 26:77 | Medium | HIGH |
| 6 | CTA Section | Multiple | Easy | MEDIUM |

**Estimated Time**: 2-3 days for Phase 1

---

## 💻 Common Commands

### Development
```bash
npm start              # Watch & compile (keep running)
npm run build          # Production build
npm run format         # Auto-format code
```

### WordPress CLI (in Local site shell)
```bash
wp plugin list         # List all plugins
wp plugin activate webdune-blocks  # Activate plugin
wp rewrite flush       # Clear permalinks
wp cache flush         # Clear cache
```

---

## 🐛 Quick Troubleshooting

### Plugin doesn't appear
```bash
# Check if files are in the right place
ls wp-content/plugins/webdune-blocks/

# Rebuild
cd wp-content/plugins/webdune-blocks
npm run build
```

### Blocks don't show up
```bash
# Make sure npm start is running
npm start

# Check build folder exists
ls build/

# Clear WordPress cache
wp cache flush
```

### npm start fails
```bash
# Clear and reinstall
rm -rf node_modules package-lock.json
npm install
npm start
```

---

## 📱 Phone Data Structure (ACF Fields)

Your client's phone posts have these ACF fields:

**Field Group: "Capacity"**
- `capacity_groups` (Repeater)
  - `storage_size` (16GB, 32GB, 64GB, etc.)
  - `base_price` (Base price for this capacity)

**Field Group: "Condition"**
- `condition_modifiers` (Repeater)
  - `condition_name` (Flawless, Good, Poor, Broken)
  - `price_adjustment` (Amount to add/subtract)

**Field: "Minimum Price"**
- `minimum_price` (Floor price)

**Helper Functions** (in `includes/phone-queries.php`):
```php
webdune_search_phones($search_term, $limit)       // Search phones
webdune_get_phone_price_range($post_id)          // Get min/max prices
webdune_get_phones_for_slider($args)             // Get phones for slider
webdune_format_price($price)                     // Format as $X,XXX
```

---

## 🎨 Color Reference

```scss
$color-primary: #FFD940;      // Yellow
$color-dark: #3C3C3C;         // Dark gray
$color-light: #F5F5F7;        // Light gray
$color-white: #FFFFFF;
```

**Usage in blocks:**
```scss
.my-block {
  background-color: $color-primary;
  color: $color-dark;
}
```

---

## 📐 Layout Classes (Already Available)

Use these in your blocks:

```jsx
<section className="my-block-section">
  <div className="padding-global">      {/* 5% horizontal padding */}
    <div className="container-large">   {/* Max 1240px width */}
      <div className="my-block-content">
        {/* Your content */}
      </div>
    </div>
  </div>
</section>
```

**Flex utilities:**
```jsx
<div className="flex items-center justify-between gap-16">
  {/* Flexbox with 16px gap */}
</div>
```

---

## 🎓 Learning Resources

### WordPress Block Development
- [Block Editor Handbook](https://developer.wordpress.org/block-editor/)
- [@wordpress/create-block](https://developer.wordpress.org/block-editor/reference-guides/packages/packages-create-block/)
- [Block API Reference](https://developer.wordpress.org/block-editor/reference-guides/block-api/)

### React (for block editor)
- [React Docs](https://react.dev/)
- [@wordpress/components](https://developer.wordpress.org/block-editor/reference-guides/components/) (UI components)

### WordPress Functions
- [Plugin Handbook](https://developer.wordpress.org/plugins/)
- [WP_Query](https://developer.wordpress.org/reference/classes/wp_query/)
- [ACF Documentation](https://www.advancedcustomfields.com/resources/)

---

## 📞 Need Help?

1. **Check Documentation**
   - README.md (overview)
   - SETUP_GUIDE.md (detailed setup)
   - BLOCK_INVENTORY.md (block specs)

2. **Check TODO List**
   - See what's in progress
   - Track what's completed

3. **Debug Checklist**
   - Is `npm start` running?
   - Is plugin activated?
   - Any errors in browser console?
   - Any errors in `wp-content/debug.log`?
   - Did you run `npm run build` for production?

---

## ✅ Current Status

- [x] Plugin structure created
- [x] Documentation written
- [x] Helper functions created
- [x] Shared styles set up
- [ ] Local environment ready
- [ ] Dependencies installed
- [ ] Plugin activated
- [ ] First block built

**Next Immediate Step**: Complete Local by Flywheel setup!

---

**Last Updated**: October 21, 2025

